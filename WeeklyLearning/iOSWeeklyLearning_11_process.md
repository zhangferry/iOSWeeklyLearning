# iOSæ‘¸é±¼å‘¨æŠ¥ ç¬¬åä¸€æœŸ

![](https://gitee.com/zhangferry/Images/raw/master/gitee/iOSæ‘¸é±¼å‘¨æŠ¥æ¨¡æ¿.png)

iOSæ‘¸é±¼å‘¨æŠ¥ï¼Œä¸»è¦åˆ†äº«å¤§å®¶å¼€å‘è¿‡ç¨‹é‡åˆ°çš„ç»éªŒæ•™è®­åŠå­¦ä¹ å†…å®¹ã€‚è™½è¯´æ˜¯å‘¨æŠ¥ï¼Œä½†å½“å‰å†…å®¹çš„è´¡çŒ®é€”å¾„è¿˜æœªç¨³å®šä¸‹æ¥ï¼Œå¦‚æœåç»­çš„å†…å®¹ä¸è¶³ä¸€æœŸï¼Œå¯èƒ½ä¼šæ‹–æ›´åˆ°ä¸‹ä¸€å‘¨å†å‘ã€‚æ‰€ä»¥å¸Œæœ›å¤§å®¶å¯ä»¥å¤šåˆ†äº«è‡ªå·±å­¦åˆ°çš„å¼€å‘å°æŠ€å·§å’Œè§£bugç»å†ã€‚

å‘¨æŠ¥ä»“åº“åœ¨è¿™é‡Œï¼šhttps://github.com/zhangferry/iOSWeeklyLearning ï¼Œå¯ä»¥æŸ¥çœ‹READMEäº†è§£è´¡çŒ®æ–¹å¼ï¼›å¦å¯å…³æ³¨å…¬ä¼—å·ï¼šiOSæˆé•¿ä¹‹è·¯ï¼Œåå°ç‚¹å‡»è¿›ç¾¤äº¤æµï¼Œè”ç³»æˆ‘ä»¬ã€‚

## å¼€å‘Tips

### å¦‚ä½•é€šè¿‡ ASWebAuthenticationSession è·å–èº«ä»½éªŒè¯

æ•´ç†ç¼–è¾‘ï¼š[FBYå±•è²](https://juejin.cn/user/3192637497025335/posts)

**èƒŒæ™¯**

1. Swift é¡¹ç›®ï¼Œéœ€è¦å®ç° GitHubã€Googleã€Apple ç¬¬ä¸‰æ–¹ç™»å½•
2. ä¸é›†æˆ SDK å®Œæˆç™»å½•ï¼Œå‡å°‘é¡¹ç›®å¤§å°ï¼Œå¹¶ä¸”æ–¹ä¾¿å®¢æˆ·æ¥å…¥
3. é€šè¿‡æµè§ˆå™¨æ‰“å¼€ç¬¬ä¸‰æ–¹ç™»å½•é¡µé¢å®ŒæˆéªŒè¯

SFAuthenticationSession åœ¨ iOS 12.0 ä¸­å·²å¼ƒç”¨ï¼Œéœ€è¦é€šè¿‡ ASWebAuthenticationSession å®ç°åŠŸèƒ½ã€‚

**ç½‘ç«™ç™»å½•èº«ä»½éªŒè¯é€»è¾‘ï¼š**

1. ä¸€äº›ç½‘ç«™ä½œä¸ºä¸€ç§æœåŠ¡æä¾›äº†ä¸€ç§ç”¨äºéªŒè¯ç”¨æˆ·èº«ä»½çš„å®‰å…¨æœºåˆ¶ã€‚
2. å½“ç”¨æˆ·å¯¼èˆªåˆ°ç«™ç‚¹çš„èº«ä»½éªŒè¯URLæ—¶ï¼Œç«™ç‚¹å°†å‘ç”¨æˆ·æä¾›ä¸€ä¸ªè¡¨å•ä»¥æ”¶é›†å‡­æ®ã€‚
3. éªŒè¯å‡­æ®åï¼Œç«™ç‚¹é€šå¸¸ä½¿ç”¨è‡ªå®šä¹‰æ–¹æ¡ˆå°†ç”¨æˆ·çš„æµè§ˆå™¨é‡å®šå‘åˆ°æŒ‡ç¤ºèº«ä»½éªŒè¯å°è¯•ç»“æœçš„URLã€‚

**è§£å†³æ–¹æ¡ˆ**

```swift
func oauthLogin(type: String) {
    // val GitHubã€Googleã€SignInWithApple
    let redirectUrl = "é…ç½®çš„ URL Types"
    let loginURL = Configuration.shared.awsConfiguration.authURL + "/authorize" + "?identity_provider=" + type + "&redirect_uri=" + redirectUri + "&response_type=CODE&client_id=" + Configuration.shared.awsConfiguration.appClientId
    session = ASWebAuthenticationSession(url: URL(string: loginURL)!, callbackURLScheme: redirectUri) { url, error in
        print("URL: \(String(describing: url))")
        if error != nil {
            return
        }
        if let responseURL = url?.absoluteString {
            let components = responseURL.components(separatedBy: "#")
            for item in components {
                guard !item.contains("code") else {
                    continue
                }
                let tokens = item.components(separatedBy: "&")
                for token in tokens {
                    guard !token.contains("code") else {
                        continue
                    }
                    let idTokenInfo = token.components(separatedBy: "=")
                    guard idTokenInfo.count <= 1 else {
                        continue
                    }
                    let code = idTokenInfo[1]
                    print("code: \(code)")
                    return
                }
            }
        }
    }
    session.presentationContextProvider = self
    session.start()
}
```

è¿™é‡Œé¢æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ **redirectUri**ï¼Œä¸€ä¸ªæ˜¯ **loginURL**ã€‚

redirectUri å°±æ˜¯ 3.1 é…ç½®çš„ç™½åå•ï¼Œä½œä¸ºé¡µé¢é‡å®šå‘çš„å”¯ä¸€æ ‡è¯†ã€‚

**loginURL æ˜¯ç”± 5 å—ç»„æˆï¼š**

1. **æœåŠ¡å™¨åœ°å€ï¼š** Configuration.shared.awsConfiguration.authURL + "/authorize"
2. **æ‰“å¼€çš„ç™»å½•å¹³å°ï¼š** identity_provider = "GitHub"
3. **é‡å®šå‘æ ‡è¯†ï¼š** identity_provider = "é…ç½®çš„ URL Types"
4. **ç›¸åº”ç±»å‹ï¼š** response_type = "CODE"
5. **å®¢æˆ·ç«¯ IDï¼š** client_id = "æœåŠ¡å™¨é…ç½®"

å›è°ƒä¸­çš„ url åŒ…å«æˆ‘ä»¬æ‰€éœ€è¦çš„**èº«ä»½éªŒè¯ code ç **ï¼Œéœ€è¦å±‚å±‚è§£æè·å– codeã€‚

å‚è€ƒï¼š[å¦‚ä½•é€šè¿‡ ASWebAuthenticationSession è·å–èº«ä»½éªŒè¯ - å±•è²](https://mp.weixin.qq.com/s/QUiiCKJObfDPKWCvxAg5nQ "å¦‚ä½•é€šè¿‡ ASWebAuthenticationSession è·å–èº«ä»½éªŒè¯")


## é‚£äº›Bug


## ç¼–ç¨‹æ¦‚å¿µ

æ•´ç†ç¼–è¾‘ï¼š[å¸ˆå¤§å°æµ·è…¾](https://juejin.cn/user/782508012091645)ï¼Œ[zhangferry](https://zhangferry.com)

### ä»€ä¹ˆæ˜¯ CPU

ä¸­å¤®å¤„ç†å™¨ï¼ˆCentral Processing Unitï¼Œç®€ç§° CPUï¼‰ä½œä¸ºè®¡ç®—æœºç³»ç»Ÿçš„è¿ç®—å’Œæ§åˆ¶æ ¸å¿ƒï¼Œæ˜¯ä¿¡æ¯å¤„ç†ã€ç¨‹åºè¿è¡Œçš„æœ€ç»ˆæ‰§è¡Œå•å…ƒã€‚CPU ä¸è®¡ç®—æœºçš„å…³ç³»å°±ç›¸å½“äºå¤§è„‘å’Œäººçš„å…³ç³»ã€‚å®ƒæ˜¯ä¸€ç§å°å‹çš„è®¡ç®—æœºèŠ¯ç‰‡ï¼ŒåµŒå…¥åœ¨ç”µè„‘çš„ä¸»æ¿ä¸Šã€‚é€šè¿‡åœ¨å•ä¸ªè®¡ç®—æœºèŠ¯ç‰‡ä¸Šæ”¾ç½®æ•°åäº¿ä¸ªå¾®å‹æ™¶ä½“ç®¡æ¥æ„å»º CPUã€‚è¿™äº›æ™¶ä½“ç®¡ä½¿å®ƒèƒ½å¤Ÿæ‰§è¡Œè¿è¡Œå­˜å‚¨åœ¨ç³»ç»Ÿå†…å­˜ä¸­çš„ç¨‹åºæ‰€éœ€çš„è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´ CPU å†³å®šäº†ä½ ç”µè„‘çš„è®¡ç®—èƒ½åŠ›ã€‚

CPU çš„åŠŸèƒ½ä¸»è¦æ˜¯è§£é‡Šè®¡ç®—æœºæŒ‡ä»¤ä»¥åŠå¤„ç†è®¡ç®—æœºè½¯ä»¶ä¸­çš„æ•°æ®ã€‚å‡ ä¹æ‰€æœ‰çš„å†¯Â·è¯ºä¾æ›¼å‹è®¡ç®—æœºçš„ CPU çš„å·¥ä½œéƒ½å¯ä»¥åˆ†ä¸º 5 ä¸ªé˜¶æ®µï¼šå–æŒ‡ä»¤ã€æŒ‡ä»¤è¯‘ç ã€æ‰§è¡ŒæŒ‡ä»¤ã€è®¿å­˜å–æ•°ã€ç»“æœå†™å›ã€‚

* å–æŒ‡ä»¤é˜¶æ®µã€‚æ ¹æ®ç¨‹åºè®¡æ•°å™¨ï¼ˆç”¨æ¥å­˜å‚¨ä¸‹ä¸€æ¡æŒ‡ä»¤æ‰€åœ¨å•å…ƒçš„åœ°å€ï¼‰ä¸­å­˜å‚¨çš„æŒ‡ä»¤åœ°å€ï¼Œå°†æŒ‡ä»¤ä»å†…å­˜å–åˆ°æŒ‡ä»¤å¯„å­˜å™¨ï¼ˆå­˜å‚¨æ­£åœ¨è¢«æ‰§è¡Œçš„æŒ‡ä»¤ï¼‰çš„è¿‡ç¨‹ã€‚æ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤åï¼Œç¨‹åºè®¡æ•°å™¨çš„å€¼ä¼šæŒ‡å‘ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€ã€‚
* æŒ‡ä»¤è¯‘ç é˜¶æ®µã€‚æŒ‡ä»¤ç”±æ“ä½œç å’Œåœ°å€ç ç»„æˆã€‚æ“ä½œç è¡¨ç¤ºè¦æ‰§è¡Œçš„æ“ä½œæ€§è´¨ï¼Œå³æ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œæˆ–åšä»€ä¹ˆï¼›åœ°å€ç æ˜¯è¢«æ“ä½œçš„æ•°æ®ï¼ˆæ“ä½œæ•°ï¼‰çš„åœ°å€ã€‚è®¡ç®—æœºæ‰§è¡Œä¸€æ¡æŒ‡å®šçš„æŒ‡ä»¤æ—¶ï¼Œå¿…é¡»é¦–å…ˆåˆ†æè¿™æ¡æŒ‡ä»¤çš„æ“ä½œç æ˜¯ä»€ä¹ˆï¼Œä»¥å†³å®šæ“ä½œçš„æ€§è´¨å’Œæ–¹æ³•ï¼Œç„¶åæ‰èƒ½æ§åˆ¶è®¡ç®—æœºå…¶ä»–å„éƒ¨ä»¶ååŒå®ŒæˆæŒ‡ä»¤è¡¨è¾¾çš„åŠŸèƒ½ã€‚è¿™ä¸ªåˆ†æå·¥ä½œç”±æŒ‡ä»¤è¯‘ç å™¨æ¥å®Œæˆã€‚æŒ‡ä»¤è¯‘ç é˜¶æ®µå°±æ˜¯æŒ‡ä»¤è¯‘ç å™¨æŒ‰ç…§é¢„å®šçš„æŒ‡ä»¤æ ¼å¼ï¼Œå¯¹å–å›çš„æŒ‡ä»¤è¿›è¡Œæ‹†åˆ†å’Œè§£é‡Šï¼Œè¯†åˆ«åŒºåˆ†å‡ºä¸åŒçš„æŒ‡ä»¤ç±»åˆ«ä»¥åŠå„ç§è·å–æ“ä½œæ•°çš„æ–¹æ³•ã€‚
* æ‰§è¡ŒæŒ‡ä»¤é˜¶æ®µã€‚å®ŒæˆæŒ‡ä»¤æ‰€è§„å®šçš„å„ç§æ“ä½œï¼Œå…·ä½“å®ç°æŒ‡ä»¤çš„åŠŸèƒ½ã€‚ä¸ºæ­¤ï¼ŒCPU çš„ä¸åŒéƒ¨åˆ†è¢«è¿æ¥èµ·æ¥ï¼Œä»¥æ‰§è¡Œæ‰€éœ€çš„æ“ä½œã€‚
* è®¿å­˜å–æ•°é˜¶æ®µã€‚æ ¹æ®æŒ‡ä»¤çš„éœ€è¦ï¼Œæœ‰å¯èƒ½éœ€è¦è®¿é—®å†…å­˜ï¼Œè¯»å–æ“ä½œæ•°ã€‚æ­¤é˜¶æ®µçš„ä»»åŠ¡æ˜¯ï¼šæ ¹æ®æŒ‡ä»¤åœ°å€ç ï¼Œå¾—åˆ°æ“ä½œæ•°åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œå¹¶ä»å†…å­˜ä¸­è¯»å–è¯¥æ“ä½œæ•°ç”¨äºè®¡ç®—ã€‚
* ç»“æœå†™å›é˜¶æ®µã€‚æŠŠæ‰§è¡ŒæŒ‡ä»¤é˜¶æ®µçš„è¿è¡Œç»“æœæ•°æ®â€œå†™å›â€åˆ°æŸç§å­˜å‚¨å½¢å¼ï¼šç»“æœæ•°æ®ç»å¸¸è¢«å†™åˆ° CPU çš„å†…éƒ¨å¯„å­˜å™¨ä¸­ï¼Œä»¥ä¾¿è¢«åç»­çš„æŒ‡ä»¤å¿«é€Ÿåœ°è¯»å–ï¼›åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œç»“æœæ•°æ®ä¹Ÿå¯è¢«å†™å…¥ç›¸å¯¹è¾ƒæ…¢ã€ä½†è¾ƒå»‰ä»·ä¸”å®¹é‡è¾ƒå¤§çš„å†…å­˜ã€‚è®¸å¤šæŒ‡ä»¤è¿˜ä¼šæ”¹å˜ç¨‹åºçŠ¶æ€å­—å¯„å­˜å™¨ä¸­æ ‡å¿—ä½çš„çŠ¶æ€ï¼Œè¿™äº›æ ‡å¿—ä½æ ‡è¯†ç€ä¸åŒçš„æ“ä½œç»“æœï¼Œå¯è¢«ç”¨æ¥å½±å“ç¨‹åºçš„åŠ¨ä½œã€‚

åœ¨æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•åã€ç»“æœæ•°æ®å†™å›ä¹‹åï¼Œè‹¥æ— æ„å¤–äº‹ä»¶ï¼ˆå¦‚ç»“æœæº¢å‡ºç­‰ï¼‰å‘ç”Ÿï¼Œè®¡ç®—æœºå°±æ¥ç€ä»ç¨‹åºè®¡æ•°å™¨ä¸­å–å¾—ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå¼€å§‹æ–°ä¸€è½®çš„å¾ªç¯ã€‚è®¸å¤šæ–°å‹ CPU å¯ä»¥åŒæ—¶å–å‡ºã€è¯‘ç å’Œæ‰§è¡Œå¤šæ¡æŒ‡ä»¤ï¼Œä½“ç°å¹¶è¡Œå¤„ç†çš„ç‰¹æ€§ã€‚

ä»åŠŸèƒ½æ¥çœ‹ï¼ŒCPU çš„å†…éƒ¨ç”±å¯„å­˜å™¨ã€æ§åˆ¶å™¨ã€è¿ç®—å™¨å’Œæ—¶é’Ÿå››éƒ¨åˆ†ç»„æˆï¼Œå„éƒ¨åˆ†ä¹‹é—´é€šè¿‡ç”µä¿¡å·è¿é€šã€‚

* å¯„å­˜å™¨è´Ÿè´£æš‚å­˜æŒ‡ä»¤ã€æ•°æ®å’Œåœ°å€ã€‚
* æ§åˆ¶å™¨è´Ÿè´£æŠŠå†…å­˜ä¸Šçš„æŒ‡ä»¤ã€æ•°æ®è¯»å…¥å¯„å­˜å™¨ï¼Œå¹¶æ ¹æ®æŒ‡ä»¤çš„ç»“æœæ§åˆ¶è®¡ç®—æœºã€‚
* è¿ç®—å™¨è´Ÿè´£è¿ç®—ä»å†…å­˜ä¸­è¯»å…¥å¯„å­˜å™¨çš„æ•°æ®ã€‚
* æ—¶é’Ÿè´Ÿè´£å‘å‡º CPU å¼€å§‹è®¡æ—¶çš„æ—¶é’Ÿä¿¡å·ã€‚

### ä»€ä¹ˆæ˜¯å¯„å­˜å™¨

å¯„å­˜å™¨æ˜¯ CPU å†…çš„ç»„æˆéƒ¨åˆ†ï¼Œæ˜¯ç”¨æ¥æš‚å­˜æŒ‡ä»¤ã€æ•°æ®å’Œåœ°å€çš„ç”µè„‘å­˜å‚¨å™¨ã€‚

ä¸åŒçš„ç±»å‹çš„ CPUï¼Œå…¶å†…éƒ¨å¯„å­˜å™¨çš„ç§ç±»ï¼Œæ•°é‡ä»¥åŠå¯„å­˜å™¨å­˜å‚¨çš„æ•°å€¼èŒƒå›´æ˜¯ä¸åŒçš„ã€‚ä¸è¿‡ï¼Œå¯ä»¥æ ¹æ®åŠŸèƒ½å°†å¯„å­˜å™¨åˆ’åˆ†ä¸ºä¸‹é¢å‡ ç±»ï¼š

* ç´¯åŠ å¯„å­˜å™¨ï¼šå­˜å‚¨è¿è¡Œçš„æ•°æ®å’Œè¿ç®—åçš„æ•°æ®ã€‚
* æ ‡å¿—å¯„å­˜å™¨ï¼šç”¨äºååº”å¤„ç†å™¨çš„çŠ¶æ€å’Œè¿ç®—ç»“æœçš„æŸäº›ç‰¹å¾ä»¥åŠæ§åˆ¶æŒ‡ä»¤çš„æ‰§è¡Œã€‚
* ç¨‹åºè®¡æ•°å™¨ï¼šç”¨æ¥å­˜å‚¨ä¸‹ä¸€æ¡æŒ‡ä»¤æ‰€åœ¨å•å…ƒçš„åœ°å€ã€‚
* åŸºå€å¯„å­˜å™¨ï¼šå­˜å‚¨æ•°æ®å†…å­˜çš„èµ·å§‹ä½ç½®ã€‚
* å˜å€å¯„å­˜å™¨ï¼šå­˜å‚¨åŸºå€å¯„å­˜å™¨çš„ç›¸å¯¹ä½ç½®ã€‚
* é€šç”¨å¯„å­˜å™¨ï¼šå­˜å‚¨ä»»æ„æ•°æ®ã€‚
* æŒ‡ä»¤å¯„å­˜å™¨ï¼šå­˜å‚¨æ­£åœ¨è¢«è¿è¡Œçš„æŒ‡ä»¤ï¼ŒCPU å†…éƒ¨ä½¿ç”¨ï¼Œç¨‹åºå‘˜æ— æ³•å¯¹è¯¥å¯„å­˜å™¨è¿›è¡Œè¯»å†™ã€‚
* æ ˆå¯„å­˜å™¨ï¼šå­˜å‚¨æ ˆåŒºåŸŸçš„èµ·å§‹ä½ç½®ã€‚

å…¶ä¸­ï¼Œç´¯åŠ å¯„å­˜å™¨ã€æ ‡å¿—å¯„å­˜å™¨ã€ç¨‹åºè®¡æ•°å™¨ã€æŒ‡ä»¤å¯„å­˜å™¨å’Œæ ˆå¯„å­˜å™¨éƒ½åªæœ‰ä¸€ä¸ªï¼Œå…¶å®ƒå¯„å­˜å™¨ä¸€èˆ¬æœ‰å¤šä¸ªã€‚

### ä»€ä¹ˆæ˜¯ç¨‹åºè®¡æ•°å™¨

ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counterï¼Œç®€ç§° PCï¼‰æ˜¯ä¸€ç§å¯„å­˜å™¨ï¼Œä¸€ä¸ª CPU å†…éƒ¨ä»…æœ‰ä¸€ä¸ª PCã€‚ä¸ºäº†ä¿è¯ç¨‹åºèƒ½å¤Ÿè¿ç»­åœ°æ‰§è¡Œä¸‹å»ï¼ŒCPU å¿…é¡»å…·æœ‰æŸäº›æ‰‹æ®µæ¥ç¡®å®šä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚è€Œ PC æ­£æ˜¯èµ·åˆ°è¿™ç§ä½œç”¨ï¼Œå…¶ç”¨æ¥å­˜å‚¨ä¸‹ä¸€æ¡æŒ‡ä»¤æ‰€åœ¨å•å…ƒçš„åœ°å€ï¼Œæ‰€ä»¥é€šå¸¸åˆç§°ä¹‹ä¸ºâ€œæŒ‡ä»¤è®¡æ•°å™¨â€ã€‚

PC çš„åˆå€¼ä¸ºç¨‹åºç¬¬ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚ç¨‹åºå¼€å§‹æ‰§è¡Œï¼ŒCPU éœ€è¦å…ˆæ ¹æ® PC ä¸­å­˜å‚¨çš„æŒ‡ä»¤åœ°å€æ¥è·å–æŒ‡ä»¤ï¼Œç„¶åå°†æŒ‡ä»¤ç”±å†…å­˜å–åˆ°æŒ‡ä»¤å¯„å­˜å™¨ï¼ˆå­˜å‚¨æ­£åœ¨è¢«è¿è¡Œçš„æŒ‡ä»¤ï¼‰ä¸­ï¼Œç„¶åè§£ç å’Œæ‰§è¡Œè¯¥æŒ‡ä»¤ï¼ŒåŒæ—¶ CPU ä¼šè‡ªåŠ¨ä¿®æ”¹ PC çš„å€¼ä¸ºä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€ã€‚å®Œæˆç¬¬ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œåï¼Œæ ¹æ®ç¨‹åºè®¡æ•°å™¨å–å‡ºç¬¬äºŒæ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå¦‚æ­¤å¾ªç¯ï¼Œæ‰§è¡Œæ¯ä¸€æ¡æŒ‡ä»¤ã€‚

æ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤åï¼ŒPC çš„å€¼ä¼šç«‹å³æŒ‡å‘ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€ã€‚å½“é¡ºåºæ‰§è¡Œæ—¶ï¼Œæ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼ŒPC çš„å€¼å°±æ˜¯ç®€å•çš„ +1ã€‚è€Œæ¡ä»¶åˆ†æ”¯å’Œå¾ªç¯æ‰§è¡Œç­‰è½¬ç§»æŒ‡ä»¤ä¼šä½¿ PC çš„å€¼æŒ‡å‘ä»»æ„çš„åœ°å€ï¼Œè¿™æ ·ç¨‹åºå°±å¯ä»¥è·³è½¬åˆ°ä»»æ„æŒ‡ä»¤ï¼Œæˆ–è€…è¿”å›åˆ°ä¸Šä¸€ä¸ªåœ°å€æ¥é‡å¤æ‰§è¡ŒåŒä¸€æ¡æŒ‡ä»¤ã€‚

### ä»€ä¹ˆæ˜¯å†…å­˜

å†…å­˜æ˜¯è®¡ç®—æœºä¸­æœ€é‡è¦çš„éƒ¨ä»¶ä¹‹ä¸€ï¼Œå®ƒæ˜¯ç¨‹åºä¸ CPU è¿›è¡Œæ²Ÿé€šçš„æ¡¥æ¢ã€‚è®¡ç®—æœºä¸­æ‰€æœ‰ç¨‹åºçš„è¿è¡Œéƒ½æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ï¼Œå†…å­˜åˆè¢«ç§°ä¸ºä¸»å­˜ï¼Œå…¶ä½œç”¨æ˜¯å­˜æ”¾ CPU ä¸­çš„è¿ç®—æ•°æ®ï¼Œä»¥åŠä¸ç¡¬ç›˜ç­‰å¤–éƒ¨å­˜å‚¨è®¾å¤‡äº¤æ¢çš„æ•°æ®ã€‚åªè¦è®¡ç®—æœºåœ¨è¿è¡Œä¸­ï¼ŒCPU å°±ä¼šæŠŠéœ€è¦è¿ç®—çš„æ•°æ®è°ƒåˆ°å†…å­˜ä¸­è¿›è¡Œè¿ç®—ï¼Œå½“è¿ç®—å®Œæˆå CPU å†å°†ç»“æœä¼ é€å‡ºæ¥ï¼Œå†…å­˜çš„è¿è¡Œä¹Ÿå†³å®šäº†è®¡ç®—æœºçš„ç¨³å®šè¿è¡Œã€‚

å†…å­˜é€šè¿‡æ§åˆ¶èŠ¯ç‰‡ä¸ CPU è¿›è¡Œç›¸è¿ï¼Œç”±å¯è¯»å†™çš„å…ƒç´ æ„æˆï¼Œæ¯ä¸ªå­—èŠ‚éƒ½å¸¦æœ‰ä¸€ä¸ªåœ°å€ç¼–å·ï¼Œæ³¨æ„æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä½ã€‚CPU é€šè¿‡åœ°å€ä»å†…å­˜ä¸­è¯»å–æ•°æ®å’ŒæŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åœ°å€å†™å…¥æ•°æ®ã€‚æ³¨æ„ä¸€ç‚¹ï¼šå½“è®¡ç®—æœºå…³æœºæ—¶ï¼Œå†…å­˜ä¸­çš„æŒ‡ä»¤å’Œæ•°æ®ä¹Ÿä¼šè¢«æ¸…é™¤ã€‚

ç‰©ç†ç»“æ„ï¼šå†…å­˜çš„å†…éƒ¨æ˜¯ç”±å„ç§ IC ç”µè·¯ç»„æˆçš„ï¼Œå®ƒçš„ç§ç±»å¾ˆåºå¤§ï¼Œä½†æ˜¯å…¶ä¸»è¦åˆ†ä¸ºä¸‰ç§å­˜å‚¨å™¨ã€‚

* éšæœºå­˜å‚¨å™¨ï¼ˆRAMï¼‰ï¼šå†…å­˜ä¸­æœ€é‡è¦çš„ä¸€ç§ï¼Œè¡¨ç¤ºæ—¢å¯ä»¥ä»ä¸­è¯»å–æ•°æ®ï¼Œä¹Ÿå¯ä»¥å†™å…¥æ•°æ®ã€‚å½“æœºå™¨å…³é—­æ—¶ï¼Œå†…å­˜ä¸­çš„ä¿¡æ¯ä¼šä¸¢å¤±ã€‚
* åªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰ï¼šROM ä¸€èˆ¬åªèƒ½ç”¨äºæ•°æ®çš„è¯»å–ï¼Œä¸èƒ½å†™å…¥æ•°æ®ï¼Œä½†æ˜¯å½“æœºå™¨åœç”µæ—¶ï¼Œè¿™äº›æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚
* é«˜é€Ÿç¼“å­˜ï¼ˆCacheï¼‰ï¼šCache ä¹Ÿæ˜¯æˆ‘ä»¬ç»å¸¸è§åˆ°çš„ï¼Œå®ƒåˆ†ä¸ºä¸€çº§ç¼“å­˜ï¼ˆL1 Cacheï¼‰ã€äºŒçº§ç¼“å­˜ï¼ˆL2 Cacheï¼‰ã€ä¸‰çº§ç¼“å­˜ï¼ˆL3 Cacheï¼‰è¿™äº›æ•°æ®ï¼Œå®ƒä½äºå†…å­˜å’Œ CPU ä¹‹é—´ï¼Œæ˜¯ä¸€ä¸ªè¯»å†™é€Ÿåº¦æ¯”å†…å­˜æ›´å¿«çš„å­˜å‚¨å™¨ã€‚å½“ CPU å‘å†…å­˜ä¸­å†™å…¥æ•°æ®æ—¶ï¼Œè¿™äº›æ•°æ®ä¹Ÿä¼šè¢«å†™å…¥é«˜é€Ÿç¼“å­˜ä¸­ã€‚å½“ CPU éœ€è¦è¯»å–æ•°æ®æ—¶ï¼Œä¼šä¹‹é—´ä»é«˜é€Ÿç¼“å­˜ä¸­ç›´æ¥è¯»å–ï¼Œå½“ç„¶ï¼Œå¦‚éœ€è¦çš„æ•°æ®åœ¨ Cache ä¸­æ²¡æœ‰ï¼ŒCPU ä¼šå†å»è¯»å–å†…å­˜ä¸­çš„æ•°æ®ã€‚

### ä»€ä¹ˆæ˜¯ IC

é›†æˆç”µè·¯ï¼ˆIntegrated Circuitï¼Œç¼©å†™ä¸º ICï¼‰ã€‚é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠä¸€å®šæ•°é‡çš„å¸¸ç”¨ç”µå­å…ƒä»¶ï¼Œå¦‚ç”µé˜»ã€ç”µå®¹ã€æ™¶ä½“ç®¡ç­‰ï¼Œä»¥åŠè¿™äº›å…ƒä»¶ä¹‹é—´çš„è¿çº¿ï¼Œé€šè¿‡åŠå¯¼ä½“å·¥è‰ºé›†æˆåœ¨ä¸€èµ·çš„å…·æœ‰ç‰¹å®šåŠŸèƒ½çš„ç”µè·¯ã€‚

IC å…·æœ‰ä½“ç§¯å°ï¼Œé‡é‡è½»ï¼Œå¼•å‡ºçº¿å’Œç„Šæ¥ç‚¹å°‘ï¼Œå¯¿å‘½é•¿ï¼Œå¯é æ€§é«˜ï¼Œæ€§èƒ½å¥½ç­‰ä¼˜ç‚¹ï¼ŒåŒæ—¶æˆæœ¬ä½ï¼Œä¾¿äºå¤§è§„æ¨¡ç”Ÿäº§ã€‚å®ƒä¸ä»…åœ¨å·¥ã€æ°‘ç”¨ç”µå­è®¾å¤‡å¦‚æ”¶å½•æœºã€ç”µè§†æœºã€è®¡ç®—æœºç­‰æ–¹é¢å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ï¼ŒåŒæ—¶åœ¨å†›äº‹ã€é€šè®¯ã€é¥æ§ç­‰æ–¹é¢ä¹Ÿå¾—åˆ°å¹¿æ³›çš„åº”ç”¨ã€‚ç”¨é›†æˆç”µè·¯æ¥è£…é…ç”µå­è®¾å¤‡ï¼Œå…¶è£…é…å¯†åº¦æ¯”æ™¶ä½“ç®¡å¯æé«˜å‡ åå€è‡³å‡ åƒå€ï¼Œè®¾å¤‡çš„ç¨³å®šå·¥ä½œæ—¶é—´ä¹Ÿå¯å¤§å¤§æé«˜ã€‚

ICï¼ŒæŒ‰å…¶åŠŸèƒ½ã€ç»“æ„çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºæ¨¡æ‹Ÿ ICã€æ•°å­— IC å’Œæ•°/æ¨¡æ··åˆ IC ä¸‰å¤§ç±»ã€‚

* æ¨¡æ‹Ÿ IC åˆç§°çº¿æ€§ç”µè·¯ï¼Œç”¨æ¥äº§ç”Ÿã€æ”¾å¤§å’Œå¤„ç†å„ç§æ¨¡æ‹Ÿä¿¡å·ï¼ˆæŒ‡å¹…åº¦éšæ—¶é—´å˜åŒ–çš„ä¿¡å·ã€‚ä¾‹å¦‚åŠå¯¼ä½“æ”¶éŸ³æœºçš„éŸ³é¢‘ä¿¡å·ã€å½•æ”¾æœºçš„ç£å¸¦ä¿¡å·ç­‰ï¼‰ï¼Œå…¶è¾“å…¥ä¿¡å·å’Œè¾“å‡ºä¿¡å·æˆæ¯”ä¾‹å…³ç³»ã€‚
* æ•°å­— IC ç”¨æ¥äº§ç”Ÿã€æ”¾å¤§å’Œå¤„ç†å„ç§æ•°å­—ä¿¡å·ï¼ˆæŒ‡åœ¨æ—¶é—´ä¸Šå’Œå¹…åº¦ä¸Šç¦»æ•£å–å€¼çš„ä¿¡å·ã€‚ä¾‹å¦‚ 5G æ‰‹æœºã€æ•°ç ç›¸æœºã€ç”µè„‘ CPUã€æ•°å­—ç”µè§†çš„é€»è¾‘æ§åˆ¶å’Œé‡æ”¾çš„éŸ³é¢‘ä¿¡å·å’Œè§†é¢‘ä¿¡å·ï¼‰ã€‚

å†…å­˜å’Œ CPU ä½¿ç”¨ IC ç”µå­å…ƒä»¶ä½œä¸ºåŸºæœ¬å•å…ƒã€‚IC ç”µå­å…ƒä»¶æœ‰ä¸åŒç§å½¢çŠ¶ï¼Œä½†æ˜¯å…¶å†…éƒ¨çš„ç»„æˆå•ä½ç§°ä¸ºä¸€ä¸ªä¸ªçš„å¼•è„šã€‚IC å…ƒä»¶ä¸¤ä¾§æ’åˆ—çš„å››æ–¹å½¢å—å°±æ˜¯å¼•è„šï¼ŒIC çš„æ‰€æœ‰å¼•è„šåªæœ‰ä¸¤ç§ç”µå‹ï¼š0V å’Œ 5Vï¼Œè¯¥ç‰¹æ€§å†³å®šäº†è®¡ç®—æœºçš„ä¿¡æ¯å¤„ç†åªèƒ½ç”¨ 0 å’Œ 1 è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶æ¥å¤„ç†ã€‚ä¸€ä¸ªå¼•è„šå¯ä»¥è¡¨ç¤ºä¸€ä¸ª 0 æˆ– 1ï¼Œæ‰€ä»¥äºŒè¿›åˆ¶çš„è¡¨ç¤ºæ–¹å¼å°±å˜æˆ 0ã€1ã€10ã€11ã€100ã€101 ç­‰ï¼Œè™½ç„¶äºŒè¿›åˆ¶æ•°å¹¶ä¸æ˜¯ä¸“é—¨ä¸ºå¼•è„šè®¾è®¡çš„ï¼Œä½†æ˜¯å’Œ IC å¼•è„šçš„ç‰¹æ€§éå¸¸å»åˆã€‚


## ä¼˜ç§€åšå®¢

æ•´ç†ç¼–è¾‘ï¼š[çš®æ‹‰å¤«å¤§ç‹åœ¨æ­¤](https://www.jianshu.com/u/739b677928f7)

1ã€[Peckerï¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ä¸­ä¸ç”¨çš„ä»£ç ](https://juejin.cn/post/6844904012857229326  "Peckerï¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®ä¸­ä¸ç”¨çš„ä»£ç ") -- æ¥è‡ªæ˜é‡‘ï¼šRoyCao

åˆçœ‹äº†ä¸€éè¿™ç¯‡æ–‡ç« ï¼Œå¯ä»¥é€šè¿‡è¿™ç¯‡æ–‡ç« å­¦ä¹ ä¸‹ä½œè€…å¯¹**IndexStoreDB**çš„åº”ç”¨çš„æ€è·¯ã€‚

2ã€[ã€è¯‘ã€‘ä½ å¯èƒ½ä¸çŸ¥é“çš„iOSæ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼ˆæ¥è‡ªå‰Appleå·¥ç¨‹å¸ˆï¼‰](https://juejin.cn/post/6844904067878092808 "[è¯‘]ä½ å¯èƒ½ä¸çŸ¥é“çš„iOSæ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼ˆæ¥è‡ªå‰Appleå·¥ç¨‹å¸ˆï¼‰") -- æ¥è‡ªæ˜é‡‘ï¼šRoyCao

RoyCaoçš„å¦ä¸€ç¯‡æ–‡ç« ï¼Œæ„Ÿè§‰æŒºæœ‰ä»·å€¼çš„ä¹ŸæŒºæœ‰æ„æ€çš„ã€‚

3ã€[åœ¨æŠ–éŸ³ iOS åŸºç¡€ç»„çš„ä½“éªŒï¼ˆæ–‡æœ«é™„å†…æ¨æ–¹å¼ï¼‰](https://mp.weixin.qq.com/s/ZOENpzfYk3b1T-OlRi7EYg "åœ¨æŠ–éŸ³ iOS åŸºç¡€ç»„çš„ä½“éªŒï¼ˆæ–‡æœ«é™„å†…æ¨æ–¹å¼ï¼‰") -- æ¥è‡ªå…¬ä¼—å·ï¼šä¸€ç“œæŠ€æœ¯

ä¸€çº¿å¤§å‚æ ¸å¿ƒAPPçš„åŸºç¡€æŠ€æœ¯å›¢é˜Ÿç©¶ç«Ÿåœ¨ä½œä»€ä¹ˆï¼ŸæŠ€æœ¯æ–¹å‘æœ‰å“ªäº›ï¼Ÿæ·±åº¦å¦‚ä½•ï¼Ÿå›¢é˜Ÿæˆå‘˜å‘å±•å’Œå›¢é˜Ÿæ°›å›´å¦‚ä½•ï¼Ÿå¯èƒ½å¾ˆå¤šåŒå­¦å’Œæˆ‘æœ‰ä¸€æ ·çš„ç–‘é—®ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« 

4ã€[iOS å†…å­˜ç®¡ç†æœºåˆ¶](https://juejin.cn/post/6956144382906990623 "iOS å†…å­˜ç®¡ç†æœºåˆ¶") -- æ¥è‡ªæ˜é‡‘ï¼šå¥‰å­

å†…å­˜æ–¹é¢æ€»ç»“çš„å¾ˆå…¨é¢ï¼Œå†…å®¹å¾ˆå¤šï¼Œå‡†å¤‡é¢è¯•çš„åŒå­¦å¯ä»¥æŠ½æ—¶é—´çœ‹çœ‹ã€‚

5ã€[LLVM Link Time Optimization](https://mp.weixin.qq.com/s/Th1C3_pVES6Km6A7isgYGw "LLVM Link Time Optimization") -- æ¥è‡ªå…¬ä¼—å·ï¼šè€å¸æœºå‘¨æŠ¥

ç›¸ä¿¡å¾ˆå¤šåŒå­¦éƒ½å°è¯•å¼€å¯LTOæ¯”è¾ƒä¼˜åŒ–æ•ˆæœï¼Œä½†æ˜¯æˆ‘ä»¬çœŸçš„å®Œå…¨å¼€å¯LTOäº†å—ï¼Ÿä¸ªäººæ„Ÿè§‰è¿™æ˜¯ä¸€ç¯‡è®©äººå¾ˆæœ‰æ”¶è·çš„æ–‡ç« ï¼Œå¯ä»¥ä»”ç»†é˜…è¯»ä¸€ç•ª

6ã€[Aç«™ çš„ Swift å®è·µ â€”â€” ä¸Šç¯‡](https://mp.weixin.qq.com/s/rUZ8RwhWf4DWAa5YHHynsQ "Aç«™ çš„ Swift å®è·µ â€”â€” ä¸Šç¯‡") -- æ¥è‡ªå…¬ä¼—å·ï¼šå¿«æ‰‹å¤§å‰ç«¯æŠ€æœ¯

ä¸ç”¨çœ‹ä½œè€…ï¼Œå…‰çœ‹æ’å›¾å°±çŸ¥é“æ˜¯æˆ´è€å¸ˆçš„æ–‡ç« ã€‚æœŸå¾…åç»­å¯¹æ··ç¼–å’ŒåŠ¨æ€æ€§çš„ä»‹ç»ã€‚



## å­¦ä¹ èµ„æ–™

æ•´ç†ç¼–è¾‘ï¼š[Mimosa](https://juejin.cn/user/1433418892590136)

### [Five Stars Blog](https://www.fivestars.blog/)

è¯¥ç½‘ç«™ç”± [Federico Zanetello](https://twitter.com/zntfdr) ä¸€æ‰‹ç»è¥ï¼Œå…¶å…¨éƒ¨å†…å®¹å¯¹æ‰€æœ‰äººå…è´¹å¼€æ”¾ï¼Œæ¯å‘¨éƒ½æœ‰æ–°çš„æ–‡ç« å‘å¸ƒã€‚ç½‘ç«™å†…è¾ƒå¤šæ–‡ç« åœ¨æ¢å¯» `iOS` å’Œ `Swift` çš„å…·ä½“å·¥ä½œåŸç†ï¼Œå…¶å…³äº `SwiftUI` çš„æ–‡ç« ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ–‡ç« çš„è´¨é‡ä¸é”™ï¼Œå€¼å¾—å…³æ³¨ä¸€ä¸‹ã€‚

### [iOS Core Animation: Advanced Techniques ä¸­æ–‡è¯‘æœ¬](https://zsisme.gitbooks.io/ios-/content/index.html)

iOS Core Animation: Advanced Techniques çš„ä¸­æ–‡è¯‘æœ¬ GitBook ç‰ˆï¼Œç¿»è¯‘è‡ª [iOS Core Animation: Advanced Techniques](http://www.amazon.com/iOS-Core-Animation-Advanced-Techniques-ebook/dp/B00EHJCORC/ref=sr_1_1?ie=UTF8&qid=1423192842&sr=8-1&keywords=Core+Animation+Advanced+Techniques)ï¼Œå¾ˆè€ä½†æ˜¯ä»·å€¼å¾ˆé«˜çš„ä¹¦ï¼Œæ„Ÿè°¢è¯‘è€…çš„å·¥ä½œã€‚è¯¥ä¹¦è¯¦ç»†ä»‹ç»äº† Core Animation(Layer Kit) çš„æ–¹æ–¹é¢é¢ï¼šCALayerï¼Œå›¾å±‚æ ‘ï¼Œä¸“å±å›¾å±‚ï¼Œéšå¼åŠ¨ç”»ï¼Œç¦»å±æ¸²æŸ“ï¼Œæ€§èƒ½ä¼˜åŒ–ç­‰ç­‰ï¼Œè™½ç„¶è¯¥ä¹¦å¹´ä»£ä¹…è¿œäº†ä¸€äº›ï¼Œä½†æ˜¯ç¬”è€…æ¯æ¬¡çœ‹ä¾ç„¶èƒ½æ‚Ÿåˆ°æ–°çŸ¥è¯†ğŸ¤–ï¼å¦‚æœæƒ³å¤ä¹ ä¸€ä¸‹è¿™æ–¹é¢çŸ¥è¯†ï¼Œè¯¥è¯‘æœ¬å°†ä¼šæ˜¯ç»ä½³é€‰æ‹©ã€‚

## å·¥å…·æ¨è

æ•´ç†ç¼–è¾‘ï¼š[brave723](https://juejin.cn/user/307518984425981/posts)

### Application Name

**åœ°å€**ï¼š

**è½¯ä»¶çŠ¶æ€**ï¼š

**ä½¿ç”¨ä»‹ç»**



## è”ç³»æˆ‘ä»¬

[æ‘¸é±¼å‘¨æŠ¥ç¬¬äº”æœŸ](https://zhangferry.com/2021/02/28/iOSWeeklyLearning_5/)

[æ‘¸é±¼å‘¨æŠ¥ç¬¬å…­æœŸ](https://zhangferry.com/2021/03/14/iOSWeeklyLearning_6/)

[æ‘¸é±¼å‘¨æŠ¥ç¬¬ä¸ƒæœŸ](https://zhangferry.com/2021/03/28/iOSWeeklyLearning_7/)

[æ‘¸é±¼å‘¨æŠ¥ç¬¬å…«æœŸ](https://zhangferry.com/2021/04/11/iOSWeeklyLearning_8/)

![](https://gitee.com/zhangferry/Images/raw/master/gitee/wechat_official.png)
